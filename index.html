<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@truestamp/canonify - v1.0.2</title><meta name="description" content="Documentation for @truestamp/canonify - v1.0.2"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="https://github.com/truestamp/truestamp-canonify" class="title">github.com/truestamp/truestamp-canonify</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@truestamp/canonify - v1.0.2 </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#truestamp-canonify" id="truestamp-canonify" style="color: inherit; text-decoration: none;">
  <h1>Truestamp Canonify</h1>
</a>

<a href="#description" id="description" style="color: inherit; text-decoration: none;">
  <h2>Description</h2>
</a>
<p>A tiny zero-dependency JSON canonicalization library written in Typescript that supports ES
Modules, UMD, and CommonJS loaders and runs in Deno, Node.js, and modern browsers.</p>
<p>Canonicalization of JavaScript/TypeScript data structures to a standard and deterministically ordered output can be very useful for hashing and signing complex nested structures where the ordering is unknown.</p>
<p>This library should fully implements the JSON Canonicalization Scheme (JCS) as documented in <a href="https://datatracker.ietf.org/doc/html/rfc8785">RFC8785</a>.</p>
<p>Significant testing was done to ensure the library stays true to <code>JSON.stringify()</code> single argument behaviors.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>Here are some simple usage examples.</p>
<p>There are working code examples for Deno, Node.js, and the Web in the <a href="/examples">/examples</a> directory. Take a look at the <a href="examples/README.md">examples/README.md</a> for usage instructions.</p>

<a href="#nodejs-commonjs" id="nodejs-commonjs" style="color: inherit; text-decoration: none;">
  <h3>Node.js (CommonJS)</h3>
</a>

<a href="#setup-nodejs" id="setup-nodejs" style="color: inherit; text-decoration: none;">
  <h4>Setup Node.js</h4>
</a>
<p>In your NPM project directory.</p>
<pre><code class="language-bash"><span class="hl-0">npm install --save @truestamp/canonify</span>
</code></pre>
<p>Require the <code>@truestamp/canonify</code> CommonJS module in your project.</p>

<a href="#nodejs-example" id="nodejs-example" style="color: inherit; text-decoration: none;">
  <h4>Node.js Example</h4>
</a>
<pre><code class="language-js"><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">canonify</span><span class="hl-0"> = </span><span class="hl-3">require</span><span class="hl-0">(</span><span class="hl-4">&#39;@truestamp/canonify&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">example</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-5">big:</span><span class="hl-0"> </span><span class="hl-6">BigInt</span><span class="hl-0">(</span><span class="hl-7">42</span><span class="hl-0">).</span><span class="hl-3">toString</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-5">f:</span><span class="hl-0"> </span><span class="hl-1">false</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">fun</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> { },</span><br/><span class="hl-0">  </span><span class="hl-5">n:</span><span class="hl-0"> </span><span class="hl-1">null</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">num:</span><span class="hl-0"> </span><span class="hl-7">42</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">s:</span><span class="hl-0"> </span><span class="hl-4">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">sym:</span><span class="hl-0"> </span><span class="hl-6">Symbol</span><span class="hl-0">(</span><span class="hl-4">&quot;hello&quot;</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-5">t:</span><span class="hl-0"> </span><span class="hl-1">true</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">u:</span><span class="hl-0"> </span><span class="hl-1">undefined</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">a:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-1">undefined</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">null</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">true</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">false</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;foo&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">42</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-6">BigInt</span><span class="hl-0">(</span><span class="hl-7">42</span><span class="hl-0">).</span><span class="hl-3">toString</span><span class="hl-0">(),</span><br/><span class="hl-0">    </span><span class="hl-6">Symbol</span><span class="hl-0">(</span><span class="hl-4">&quot;hello&quot;</span><span class="hl-0">),</span><br/><span class="hl-0">    () </span><span class="hl-1">=&gt;</span><span class="hl-0"> { },</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-3">log</span><span class="hl-0">(</span><span class="hl-3">canonify</span><span class="hl-0">(</span><span class="hl-5">example</span><span class="hl-0">));</span>
</code></pre>

<a href="#deno-es-modules" id="deno-es-modules" style="color: inherit; text-decoration: none;">
  <h3>Deno (ES Modules)</h3>
</a>
<p><a href="https://deno.land/">Deno</a> is a simple, modern and secure runtime for JavaScript
and TypeScript that uses V8 and is built in Rust.</p>

<a href="#setup-deno" id="setup-deno" style="color: inherit; text-decoration: none;">
  <h4>Setup Deno</h4>
</a>
<p>Recent versions of <code>canonify</code> are published to the official Deno third party modules CDN.</p>
<p><a href="https://deno.land/x/canonify">https://deno.land/x/canonify</a></p>

<a href="#deno-example" id="deno-example" style="color: inherit; text-decoration: none;">
  <h4>Deno Example</h4>
</a>
<pre><code class="language-typescript"><span class="hl-8">// IMPORTANT : use the current release version of `canonify`</span><br/><span class="hl-8">// in the module URL. Replace `@v1.0.1` with the latest version.</span><br/><span class="hl-8">// Versions are tied to GitHub release tags.</span><br/><span class="hl-9">import</span><span class="hl-0"> </span><span class="hl-5">canonify</span><span class="hl-0"> </span><span class="hl-9">from</span><span class="hl-0"> </span><span class="hl-4">&quot;https://deno.land/x/canonify@v1.0.1/mod.ts&quot;</span><span class="hl-0">;</span><br/><br/><span class="hl-1">const</span><span class="hl-0"> </span><span class="hl-2">example</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-5">big:</span><span class="hl-0"> </span><span class="hl-6">BigInt</span><span class="hl-0">(</span><span class="hl-7">42</span><span class="hl-0">).</span><span class="hl-3">toString</span><span class="hl-0">(),</span><br/><span class="hl-0">  </span><span class="hl-5">f:</span><span class="hl-0"> </span><span class="hl-1">false</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-3">fun</span><span class="hl-5">:</span><span class="hl-0"> () </span><span class="hl-1">=&gt;</span><span class="hl-0"> { },</span><br/><span class="hl-0">  </span><span class="hl-5">n:</span><span class="hl-0"> </span><span class="hl-1">null</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">num:</span><span class="hl-0"> </span><span class="hl-7">42</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">s:</span><span class="hl-0"> </span><span class="hl-4">&quot;string&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">sym:</span><span class="hl-0"> </span><span class="hl-6">Symbol</span><span class="hl-0">(</span><span class="hl-4">&quot;hello&quot;</span><span class="hl-0">),</span><br/><span class="hl-0">  </span><span class="hl-5">t:</span><span class="hl-0"> </span><span class="hl-1">true</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">u:</span><span class="hl-0"> </span><span class="hl-1">undefined</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-5">a:</span><span class="hl-0"> [</span><br/><span class="hl-0">    </span><span class="hl-1">undefined</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">null</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">true</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-1">false</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">&quot;foo&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-7">42</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-6">BigInt</span><span class="hl-0">(</span><span class="hl-7">42</span><span class="hl-0">).</span><span class="hl-3">toString</span><span class="hl-0">(),</span><br/><span class="hl-0">    </span><span class="hl-6">Symbol</span><span class="hl-0">(</span><span class="hl-4">&quot;hello&quot;</span><span class="hl-0">),</span><br/><span class="hl-0">    () </span><span class="hl-1">=&gt;</span><span class="hl-0"> { },</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-5">console</span><span class="hl-0">.</span><span class="hl-3">log</span><span class="hl-0">(</span><span class="hl-3">canonify</span><span class="hl-0">(</span><span class="hl-5">example</span><span class="hl-0">));</span>
</code></pre>

<a href="#api-documentation" id="api-documentation" style="color: inherit; text-decoration: none;">
  <h2>API Documentation</h2>
</a>
<p>The <a href="https://truestamp.github.io/truestamp-canonify/">TypeScript API documentation</a> for this project is generated and published upon each new release.</p>

<a href="#testing" id="testing" style="color: inherit; text-decoration: none;">
  <h2>Testing</h2>
</a>
<p>This library aims to maintain 100% code test coverage and it passes 100% of the test
vectors provided by the <a href="https://datatracker.ietf.org/doc/html/rfc8785">RFC8785</a>
<a href="https://github.com/cyberphone/json-canonicalization/tree/master/testdata">testdata</a> vectors.
This should help ensure that its output is consistent with other compliant libraries on other runtimes.</p>

<a href="#thanks" id="thanks" style="color: inherit; text-decoration: none;">
  <h2>Thanks</h2>
</a>
<p>Much of the code is ported to TypeScript from, and was based on, the following excellent examples:</p>
<ul>
<li><a href="https://github.com/cyberphone/json-canonicalization">https://github.com/cyberphone/json-canonicalization</a></li>
<li><a href="https://github.com/erdtman/canonicalize">erdtman/canonicalize</a></li>
</ul>
<p>Porting to Typescript was necessary for the additional security that strongly typed code provides, as well as for serving as the base for transpilation for use in other runtime contexts.</p>

<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
  <h2>Contributing</h2>
</a>
<p>We&#39;d love you to join our network of contributors. Please read
<a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for help getting started.</p>

<a href="#releasing" id="releasing" style="color: inherit; text-decoration: none;">
  <h3>Releasing</h3>
</a>
<ul>
<li>Commit changes, merge PR&#39;s to <code>main</code> branch</li>
<li>Bump <code>version</code> field in <code>package.json</code></li>
<li>Cut a new <a href="https://github.com/truestamp/truestamp-canonify/releases">release</a></li>
<li>New release will trigger workflow to build, test, and publish package to
<a href="https://github.com/truestamp/truestamp-canonify/packages">Github Package Registry</a>
and <a href="https://www.npmjs.com/package/@truestamp/canonify">NPM.js</a>.</li>
</ul>

<a href="#code-of-conduct" id="code-of-conduct" style="color: inherit; text-decoration: none;">
  <h2>Code of Conduct</h2>
</a>
<p>We expect all members of the community to respect our
<a href="CODE_OF_CONDUCT.md">Code of Conduct</a> at all times.</p>

<a href="#legal" id="legal" style="color: inherit; text-decoration: none;">
  <h2>Legal</h2>
</a>
<p>Copyright © 2022 Truestamp Inc. All Rights Reserved.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-function"><a href="modules.html#default" class="tsd-kind-icon">default</a></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="assets/main.js"></script></body></html>